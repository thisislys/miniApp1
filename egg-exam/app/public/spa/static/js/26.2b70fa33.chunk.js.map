{"version":3,"sources":["model/role/index.js"],"names":["initState","table","page","pageSize","total","data","viewFromIdentity","view_authority","isPersonalType","apiFromIdentity","apiIdentity","__webpack_exports__","namespace","state","reducers","changeTable","action","Object","_Users_liuyu_react_exam_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","payload","changeData","_ref","effects","fetch","_Users_liuyu_react_exam_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_ref2","_ref3","call","put","params","response","wrap","_context","prev","next","showIdentity","sent","type","showViewAuthority","stop","this","getViewFromIdentity","_ref4","_ref5","identity_id","_context2","setIdentityView","_ref6","_ref7","view_authority_id","_context3","addRole","_ref8","_ref9","identity_text","_context4","addIdentity","abrupt","Promise","resolve"],"mappings":"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","file":"static/js/26.2b70fa33.chunk.js","sourcesContent":["import {showIdentity, showViewAuthority, addIdentity, getViewFromIdentity, setIdentityView} from '@/service/userManger'\n\nconst initState = {\n  table: {\n    page: 1,\n    pageSize: 10,\n    total: 0,\n    data: []\n  },\n  viewFromIdentity: [],\n  view_authority: [],\n  isPersonalType: null,\n  apiFromIdentity: [],\n  apiIdentity: []\n};\n\n\nexport default {\n  namespace: 'role',\n\n  state: initState,\n\n  reducers: {\n    changeTable(state, action) {\n      return {\n        ...state,\n        table: {\n          ...state.table,\n          ...action.payload,\n        },\n      };\n    },\n    changeData (state, {payload}) {\n      return {\n        ...state,\n        ...payload\n      };\n    }\n  },\n\n  effects: {\n\n    *fetch ({payload}, {call, put}) {\n      const params = {\n        page: initState.table.page,\n        pageSize: initState.table.pageSize,\n        ...payload\n      };\n      const response = yield call(showIdentity, params);\n      yield put({\n        type: 'changeTable',\n        payload: {\n          data: response.data\n        }\n      })\n      const view_authority = yield call(showViewAuthority)\n      yield put({\n        type: 'changeData',\n        payload: {\n          view_authority: view_authority.data\n        }\n      })\n    },\n\n    *getViewFromIdentity ({identity_id}, {call, put}) {\n      const response = yield call(getViewFromIdentity, identity_id)\n      yield put({\n        type: 'changeData',\n        payload: {\n          viewFromIdentity: response.data\n        }\n      })\n    },\n\n    *setIdentityView ({identity_id, view_authority_id}, {call, put}) {\n      yield call(setIdentityView, {identity_id, view_authority_id})\n      yield put({type: 'getViewFromIdentity', identity_id})\n    },\n\n    *addRole ({identity_text}, {call, put}) {\n      const params = {\n        identity_text\n      };\n      const response = yield call(addIdentity, params);\n      yield put({type: 'fetch'}, {})\n      return Promise.resolve(response)\n    },\n  }\n}"],"sourceRoot":""}