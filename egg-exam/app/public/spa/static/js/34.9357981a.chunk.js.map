{"version":3,"sources":["service/questionsManger.js","service/questManger.js","model/student/index.js"],"names":["__webpack_require__","d","__webpack_exports__","getAllExamType","getAllQuestionsType","getAllSubject","addQuestions","getQusetions","updateQUestions","_utils_request__WEBPACK_IMPORTED_MODULE_0__","request","questionsInfo","method","body","payload","arr","i","push","concat","str","join","console","log","updated","getAllGradeMsg","getOtherGrade","getAllRoom","addGrade","delGrade","editGrade","addRoom","delRoom","getAllStudents","getOtherStudents","delStudent","_ref","student_id","allData","Promise","all","allStudents","namespace","state","foundationData","paginationMsg","current","pageSize","showSizeChanger","allRoom","allSubject","allGrade","effects","_Users_liuyu_react_exam_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_ref2","put","call","wrap","_context","prev","next","type","stop","this","getOtherData","_","_ref3","res","_context2","sent","data","getAllStudent","_ref4","_context3","searchContent","_ref5","_ref6","select","allKeys","allPagination","_context4","student","Object","_Users_liuyu_react_exam_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","filter","val","trim","reducers","saveFoundationData","_ref7","saveStudent","_ref8","saveOtherData","_ref9","changePagination","_ref10","saveGrade","_ref11"],"mappings":"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","file":"static/js/34.9357981a.chunk.js","sourcesContent":["import request from '../utils/request'\n// 获取所有的考试类型\nexport function getAllExamType(){\n    return request('/exam/examType');\n}\n// 获取所有的试题类型\nexport function getAllQuestionsType(){\n    return request('/exam/getQuestionsType');\n}\n// 获取所有的课程\nexport function getAllSubject(){\n    return request('/exam/subject');\n}\n// 添加试题\nexport function addQuestions(questionsInfo){\n    return request('/exam/questions',{\n        method:'POST',\n        body:questionsInfo,\n    });\n}\n// 获取试题\nexport function getQusetions(payload){\n    let arr = [];\n    for(let i in payload){\n        if (payload[i]) {\n            arr.push(`${i}=${payload[i]}`);\n        }\n    }\n    let str = '?'+arr.join('&');\n    console.log(str)\n    return request(`/exam/questions/condition${str}`);\n}\n\n// 更新试题\n\nexport function updateQUestions(updated){\n    return request('/exam/questions/update',{\n        method:'PUT',\n        body:updated\n    });\n}","import request from '../utils/request'\n\n// 获取所有班级信息\nexport const getAllGradeMsg = () => {\n    return request('/manger/grade')\n}\n\nexport const getOtherGrade = () => {\n    return request('/manger/grade/new')\n}\n\nexport const getAllRoom = () => {\n    return request('/manger/room')\n}\n\nexport const addGrade = (payload) => {\n    return request('/manger/grade', {\n        method:'POST',\n        body:payload\n    })\n}\n\nexport const delGrade = (payload) => {\n    return request('/manger/grade/delete', {\n        method:'DELETE',\n        body:payload\n    })\n}\n\nexport const editGrade = (payload) => {\n    return request('/manger/grade/update', {\n        method: 'PUT',\n        body: payload\n    })\n}\n\n\nexport const addRoom = (payload) => {\n    return request('/manger/room', {\n        method: 'POST',\n        body: payload\n    })\n}\n\n\n//删除教室\nexport const delRoom = (payload) => {\n    return request('/manger/room/delete', {\n        method: 'DELETE',\n        body: payload\n    })\n}\n\n// 获取学生信息\nexport const getAllStudents = () => {\n    return request('/manger/student')\n}\n\nexport const getOtherStudents = () => {\n    return request('/manger/student/new')\n}\n\n\nexport const delStudent = ({student_id}) => {\n    return request(`/manger/student/${student_id}`, {\n        method: 'DELETE'\n    })\n}\n\n","import {\n    getAllStudents,\n    getAllRoom,\n    delStudent,\n    getOtherStudents,\n    getAllGradeMsg\n} from '@/service/questManger'\n\nimport {\n    getAllSubject\n} from '@/service/questionsManger'\n\nfunction allData() {\n    return Promise.all([getAllRoom(), getAllSubject()])\n}\n\nfunction allStudents() {\n    return Promise.all([getAllStudents(), getOtherStudents(), getAllGradeMsg()])\n}\n\nexport default {\n    namespace:'student',\n    state:{\n        foundationData: [],\n        allStudents: [],\n        paginationMsg: {\n            current: 1,\n            pageSize: 20,\n            showSizeChanger: true\n        },\n        allRoom: [],\n        allSubject: [],\n        allGrade: []\n    },\n    effects: {\n        *delStudent({payload}, {put, call}) {\n            yield call(delStudent, payload);\n            yield put({\n                type: 'getAllStudent'\n            })\n        },\n        *getOtherData(_, {put, call}) {\n            let res = yield call(allData);\n            yield put({\n                type: 'saveOtherData',\n                payload: {\n                    allRoom: res[0].data,\n                    allSubject: res[1].data\n                }\n            })\n        },\n        *getAllStudent(_, {put, call}) {\n            let res = yield call(allStudents);\n            yield put({\n                type: 'saveFoundationData',\n                payload: res[0].data.concat(res[1].data)\n            })\n            yield put({\n                type: 'saveStudent',\n                payload: res[0].data.concat(res[1].data)\n            })\n            yield put({\n                type: 'saveGrade',\n                payload: res[2].data\n            })\n            \n        },\n        *searchContent({ payload }, { put, select }) {\n            let allKeys = ['student_name', 'room_id', 'grade_id']\n            let allData = yield select((state) => {\n                return state.student.foundationData\n            })\n            let allPagination = select((state) => {\n                return {\n                        ...state.student.paginationMsg,\n                        current: 1,\n                        pageSize: 20,\n                    }\n            })\n            yield put({\n                type: 'changePagination',\n                payload: allPagination\n            })\n            let res = allData.filter(val => {\n                return payload[allKeys[0]].trim() ? payload[allKeys[0]].trim() === val[allKeys[0]].trim() : true\n            }).filter(val => {\n                return payload[allKeys[1]] ? payload[allKeys[1]] === val[allKeys[1]] : true\n            }).filter(val => {\n                return payload[allKeys[2]] ? payload[allKeys[2]] === val[allKeys[2]] : true\n            })\n            yield put({\n                type: 'saveStudent',\n                payload: res\n            })\n        }\n    },\n    reducers: {\n        saveFoundationData(state, {payload}) {\n            return {\n                ...state,\n                foundationData: payload\n            }\n        },\n        saveStudent(state, {payload}) {\n            return {\n                ...state,\n                allStudents: payload\n            }\n        },\n        saveOtherData(state, {payload}) {\n            return {\n                ...state,\n                ...payload\n            }\n        },\n        changePagination(state, {payload}) {\n            return {\n                ...state,\n                paginationMsg: {...payload}\n            }\n        },\n        saveGrade(state, {payload}) {\n            return {\n                ...state,\n                allGrade: payload\n            }\n        }\n    }\n}"],"sourceRoot":""}